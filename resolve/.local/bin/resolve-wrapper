!/usr/bin/env bash
LIB="/usr/lib64/libpython3.11.so.1.0"
if [[ ! -f "$LIB" ]]; then
  echo "Missing $LIB â€“ install python3.11-libs" >&2
  exit 1
fi

# Force Resolve to use Python 3.11
export LD_PRELOAD="$LIB${LD_PRELOAD:+:$LD_PRELOAD}"

# Use XCB instead of Wayland and disable threaded OpenGL
export QT_QPA_PLATFORM=xcb export __GL_THREADED_OPTIMIZATIONS=0

# HiDPI scaling (change these if you want: e.g. 1.5, 2, 2.5)
export QT_AUTO_SCREEN_SCALE_FACTOR=0 export QT_SCALE_FACTOR=2 export QT_DEVICE_PIXEL_RATIO=2

# Library path
export LD_LIBRARY_PATH="/opt/resolve/libs:/usr/lib64${LD_LIBRARY_PATH:+:$LD_LIBRARY_PATH}"

exec /opt/resolve/bin/resolve "$@"